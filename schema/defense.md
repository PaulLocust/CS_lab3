# üîß –°—Ö–µ–º–∞ RISC-V: –ö–æ–Ω–≤–µ–π–µ—Ä–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä  

![–°—Ö–µ–º–∞_risc-v](https://github.com/user-attachments/assets/e3dc179c-51d2-4253-ac1d-1f53cef180cb)


## üìå 1. –û–ø–∏—Å–∞–Ω–∏–µ —Å—Ö–µ–º—ã

–î–∞–Ω–Ω–∞—è —Å—Ö–µ–º–∞ —Ä–µ–∞–ª–∏–∑—É–µ—Ç 5-—Å—Ç–∞–¥–∏–π–Ω—ã–π –∫–æ–Ω–≤–µ–π–µ—Ä–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã RISC-V. 
–û–Ω–∞ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∞ –ø–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ —Ç–∏–ø–∞ Harvard (—Ä–∞–∑–¥–µ–ª—å–Ω–∞—è –ø–∞–º—è—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π –∏ –¥–∞–Ω–Ω—ã—Ö) –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ —Å —Ä–µ–≥–∏—Å—Ç—Ä–∞–º–∏, immediate-–∑–Ω–∞—á–µ–Ω–∏—è–º–∏, –ø–µ—Ä–µ—Ö–æ–¥–∞–º–∏ –∏ –¥–æ—Å—Ç—É–ø–æ–º –∫ –ø–∞–º—è—Ç–∏. 
–ö–æ–Ω–≤–µ–π–µ—Ä —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ —Å–ª–µ–¥—É—é—â–∏—Ö —Å—Ç–∞–¥–∏–π:

- **IF** (Instruction Fetch) ‚Äî –≤—ã–±–æ—Ä–∫–∞ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
- **ID** (Instruction Decode) ‚Äî –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —á—Ç–µ–Ω–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä–æ–≤
- **EX** (Execute) ‚Äî –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
- **MEM** (Memory Access) ‚Äî —Ä–∞–±–æ—Ç–∞ —Å –ø–∞–º—è—Ç—å—é
- **WB** (Write Back) ‚Äî –∑–∞–ø–∏—Å—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –≤ —Ä–µ–≥–∏—Å—Ç—Ä

---

## üîÅ 2. –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏

–ü—Ä–∏–º–µ—Ä: `lw x5, 4(x2)`

1. **IF**
   - –ê–¥—Ä–µ—Å PC –ø–æ–¥–∞—ë—Ç—Å—è –≤ Instruction Memory
   - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –≤ Instruction Register (IR)
   - PC –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è (–æ–±—ã—á–Ω–æ –Ω–∞ +4)

2. **ID**
   - –ò–∑–≤–ª–µ–∫–∞—é—Ç—Å—è rs1 –∏ rs2 –∏–∑ Register File
   - rd –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è
   - –ì–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è —É–ø—Ä–∞–≤–ª—è—é—â–∏–µ —Å–∏–≥–Ω–∞–ª—ã –≤ Control Unit
   - Immediate –∏–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ Sign Extend

3. **EX**
   - ALU —Å–∫–ª–∞–¥—ã–≤–∞–µ—Ç rs1 –∏ Immediate
   - –ü–æ–ª—É—á–∞–µ—Ç—Å—è –∞–¥—Ä–µ—Å –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –ø–∞–º—è—Ç–∏

4. **MEM**
   - –ò–∑ –ø–∞–º—è—Ç–∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —Å–ª–æ–≤–æ –ø–æ –∞–¥—Ä–µ—Å—É
   - –î–∞–Ω–Ω—ã–µ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –Ω–∞ —Å—Ç–∞–¥–∏—é WB

5. **WB**
   - –ó–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –≤ rd

---

## ‚öôÔ∏è 3. –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –æ—Å–Ω–æ–≤–Ω—ã—Ö –±–ª–æ–∫–æ–≤

| –ë–ª–æ–∫ | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|------|------------|
| `Program Counter (PC)` | –°—á–µ—Ç–∫—á–∏–∫ –∫–æ–º–∞–Ω–¥, —Å–æ–¥–µ—Ä–∂–∏—Ç –∞–¥—Ä–µ—Å —Ç–µ–∫—É—â–µ–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ |
| `Instruction Memory (IM)` | –•—Ä–∞–Ω–∏—Ç –º–∞—à–∏–Ω–Ω—ã–π –∫–æ–¥ –ø—Ä–æ–≥—Ä–∞–º–º—ã(—Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π) |
| `Instruction Register (IR)` | –•—Ä–∞–Ω–∏—Ç —Ç–µ–∫—É—â—É—é –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—É—é –∏–∑ –ø–∞–º—è—Ç–∏ –∫–æ–º–∞–Ω–¥—É (–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é), —Å—á–∏—Ç–∞–Ω–Ω—É—é –ø–æ –∞–¥—Ä–µ—Å—É PC, –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–µ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ |
| `Hazard unit` | –û–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç —Å–∏—Ç—É–∞—Ü–∏–∏, –∫–æ–≥–¥–∞ —Å–ª–µ–¥—É—é—â–∞—è –∫–æ–º–∞–Ω–¥–∞ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –ø—Ä–µ–¥—ã–¥—É—â–µ–π, –∫–æ—Ç–æ—Ä—ã–π –µ—â—ë –Ω–µ –≥–æ—Ç–æ–≤ |
| `Control Unit (CU)` | –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —É–ø—Ä–∞–≤–ª—è—é—â–∏–µ —Å–∏–≥–Ω–∞–ª—ã (RegWrite, MemRead, ALUSrc –∏ —Ç.–¥.), –¥–µ–∫–æ–¥–∏—Ä—É–µ—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ |
| `Register File` | –≠—Ç–æ –Ω–∞–±–æ—Ä –±—ã—Å—Ç—Ä—ã—Ö —Ä–µ–≥–∏—Å—Ç—Ä–æ–≤ –≤–Ω—É—Ç—Ä–∏ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞, –∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏ –æ–ø–µ—Ä–∞–Ω–¥–æ–≤ –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π |
| `Sign Extend` | –†–∞—Å—à–∏—Ä—è–µ—Ç Immediate –¥–æ 32 –±–∏—Ç —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –∑–Ω–∞–∫–∞ |
| `EX_control` | —Å–æ–≤–æ–∫—É–ø–Ω–æ—Å—Ç—å —É–ø—Ä–∞–≤–ª—è—é—â–∏—Ö —Å–∏–≥–Ω–∞–ª–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç, –∫–∞–∫ –∏–º–µ–Ω–Ω–æ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –±–ª–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è(ALU –∏ —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –Ω–∏–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã) –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ —Ç–µ–∫—É—â. –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ |
| `ALU` | –í—ã–ø–æ–ª–Ω—è–µ—Ç –∞—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–∏–µ –∏ –ª–æ–≥–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ |
| `Data memory` | –ë–ª–æ–∫ –ø–∞–º—è—Ç–∏, –≥–¥–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –¥–∞–Ω–Ω—ã–µ, —Å –∫–æ—Ç–æ—Ä—ã–º–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–æ–≥–∞ (lw/sw) |
| `MEM_control` | –£–ø—Ä–∞–≤–ª—è–µ—Ç –ø–∞–º—è—Ç—å—é, –≥–æ–≤–æ—Ä–∏—Ç Data memory, –∫–∞–∫—É—é –æ–ø–µ—Ä–∞—Ü–∏—é –≤—ã–ø–æ–ª–Ω—è—Ç—å: —á—Ç–µ–Ω–∏–µ, –∑–∞–ø–∏—Å—å, –Ω–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏–∏ |
| `MUX` | –í—ã–±–∏—Ä–∞–µ—Ç –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö (rs2 –∏–ª–∏ Immediate –∏ –¥—Ä.) |
| `Hazard Unit` | –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏, –ø—Ä–∏–æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Stall |
| `PC Latch / IR Latch` | –•—Ä–∞–Ω—è—Ç –∑–Ω–∞—á–µ–Ω–∏—è –º–µ–∂–¥—É —Å—Ç–∞–¥–∏—è–º–∏ –∫–æ–Ω–≤–µ–π–µ—Ä–∞ |

---

## üß† 4. –ú–µ—Ö–∞–Ω–∏–∑–º—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–Ω–≤–µ–π–µ—Ä–æ–º

- `Stall` ‚Äî C–∏–≥–Ω–∞–ª –æ—Ç Hazard Unit, –±–ª–æ–∫–∏—Ä—É–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ PC –∏ IR. –û–Ω "–∑–∞–º–æ—Ä–∞–∂–∏–≤–∞–µ—Ç" –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–æ–ª–µ–∑–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å—Ö–µ–º—ã, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –æ—à–∏–±–æ–∫. –†–∞–±–æ—Ç–∞–µ—Ç –≤ —Å–≤—è–∑–∫–µ —Å Bubble(NOP)
- `Bubble (NOP)` ‚Äî –ö–æ–º–∞–Ω–¥–∞-–∑–∞–≥–ª—É—à–∫–∞ –æ—Ç Control Unit, –ø—É—Å—Ç–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–º–µ—Å—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —á—Ç–æ–±—ã –ø–µ—Ä–µ–∂–¥–∞—Ç—å –∑–∞–¥–µ—Ä–∂–∫—É –≤ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –∫–∞–∫–æ–π-–ª–∏–±–æ –∫–æ–º–∞–Ω–¥—ã 
- `–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è` ‚Äî –ü—Ä–∏ Stall –≤ –∫–æ–Ω–≤–µ–π–µ—Ä  –≤–º–µ—Å—Ç–æ —Å–ª–µ–¥. –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –≤—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è Bubble(NOP), —á—Ç–æ–±—ã –¥–∞—Ç—å –≤—Ä–µ–º—è –ø—Ä–µ–¥—ã–¥—É—â–µ–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –∑–∞–≤–µ—Ä—à–∏—Ç—å—Å—è

---

## üìå 5. –û–±–æ–∑–Ω–∞—á–µ–Ω–∏—è

- `rd` ‚Äî —Ä–µ–≥–∏—Å—Ç—Ä –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è
- `rs1`, `rs2` ‚Äî –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –æ–ø–µ—Ä–∞–Ω–¥–æ–≤
- `Latch` ‚Äî (–∑–∞—â—ë–ª–∫–∞) —ç–ª–µ–º–µ–Ω—Ç –ø–∞–º—è—Ç–∏, –∫–æ—Ç–æ—Ä—ã–π —Ö—Ä–∞–Ω–∏—Ç –¥–∞–Ω–Ω—ã–µ –¥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è —É–ø—Ä–∞–≤–ª—è—é—â–µ–≥–æ —Å–∏–≥–Ω–∞–ª–∞. –í –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–µ latch –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É —ç—Ç–∞–ø–∞–º–∏ –∫–æ–Ω–≤–µ–π–µ—Ä–∞.
- `–ö–æ–º–±–∏–Ω–∞—Ü–∏–æ–Ω–Ω–∞—è —Å—Ö–µ–º–∞` ‚Äî —ç—Ç–æ –ª–æ–≥–∏—á–µ—Å–∫–∞—è —Å—Ö–µ–º–∞, –≤—ã—Ö–æ–¥ –∫–æ—Ç–æ—Ä–æ–π –∑–∞–≤–∏—Å–∏—Ç —Ç–æ–ª—å–∫–æ –æ—Ç —Ç–µ–∫—É—â–∏—Ö –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö, –±–µ–∑ —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è, –ø—Ä–∏–º–µ—Ä: ALU, MUX
- `MUX` ‚Äî —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ, –∫–æ—Ç–æ—Ä–æ–µ –≤—ã–±–∏—Ä–∞–µ—Ç –æ–¥–∏–Ω –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –≤—Ö–æ–¥–æ–≤ –∏ –ø–µ—Ä–µ–¥–∞–µ—Ç –µ–≥–æ –Ω–∞ –≤—ã—Ö–æ–¥
---

## üß© 6. –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –±–∞–∑–æ–≤—ã—Ö –∫–æ–º–∞–Ω–¥:
  - –ê—Ä–∏—Ñ–º–µ—Ç–∏–∫–∞: `add`, `sub`, `div`
  - –ó–∞–≥—Ä—É–∑–∫–∞ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ: `lw`, `sw`
  - –í–µ—Ç–≤–ª–µ–Ω–∏—è: `bgt`, `j`
  - –†–∞–±–æ—Ç–∞ —Å immediate: `lui`
- Immediate –∏–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è –≤—Å–µ–≥–¥–∞, –Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
- rs2 –ø–æ–¥–∞—ë—Ç—Å—è –≤—Å–µ–≥–¥–∞, –Ω–æ –º–æ–∂–µ—Ç –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏

---

## 7. –í—ã–≤–æ–¥

–°—Ö–µ–º–∞ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –±–∞–∑–æ–≤—ã–π 5-—Å—Ç–∞–¥–∏–π–Ω—ã–π RISC-V –∫–æ–Ω–≤–µ–π–µ—Ä —Å –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π. –í–∫–ª—é—á–µ–Ω—ã –º–µ—Ö–∞–Ω–∏–∑–º—ã Hazard Detection –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è Bubble. –¢–∞–∫–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ª–µ–∂–∏—Ç –≤ –æ—Å–Ω–æ–≤–µ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–æ–≤ –∏ —è–≤–ª—è–µ—Ç—Å—è –ø—Ä–µ–∫—Ä–∞—Å–Ω–æ–π —É—á–µ–±–Ω–æ–π –º–æ–¥–µ–ª—å—é.

---
